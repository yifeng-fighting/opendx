(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4512816a"],{8121:function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"f",(function(){return a})),n.d(e,"e",(function(){return s})),n.d(e,"c",(function(){return u})),n.d(e,"d",(function(){return c})),n.d(e,"b",(function(){return o}));var r=n("b775");function i(t){return Object(r["a"])({method:"post",url:"/action/add",data:t})}function a(t){return Object(r["a"])({method:"post",url:"/action/update",data:t})}function s(t){return Object(r["a"])({method:"post",url:"/action/list",params:t})}function u(t){return Object(r["a"])({method:"delete",url:"/action/".concat(t)})}function c(t,e,n){return Object(r["a"])({method:"get",url:"/action/cascader",params:{projectId:t,platform:e,type:n}})}function o(t){return Object(r["a"])({method:"post",url:"/action/debug",data:t})}},cf45:function(t,e,n){"use strict";n.d(e,"c",(function(){return r})),n.d(e,"d",(function(){return i})),n.d(e,"b",(function(){return a})),n.d(e,"a",(function(){return u}));n("456d"),n("ac6a");var r=[{type:1,name:"Android"},{type:2,name:"iOS"},{type:3,name:"PC Web"}],i=[{state:0,name:"禁用"},{state:1,name:"草稿"},{state:2,name:"发布"}];function a(t){if(!t)return t;var e=t.indexOf("<"),n=t.indexOf(">");if(-1!==e&&-1!==n){var r=t.substring(0,e),i=t.substring(e+1,n);return s(r)+t[e]+s(i)+t[n]}return s(t)}function s(t){return t?t.substring(t.lastIndexOf(".")+1):t}function u(t,e){Object.keys(e).forEach((function(n){void 0!==t[n]&&(t[n]=e[n])}))}},d023:function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return a})),n.d(e,"d",(function(){return s})),n.d(e,"c",(function(){return u}));var r=n("b775");function i(t){return Object(r["a"])({method:"post",url:"/testSuite/add",data:t})}function a(t){return Object(r["a"])({method:"delete",url:"/testSuite/".concat(t)})}function s(t){return Object(r["a"])({method:"post",url:"/testSuite/update",data:t})}function u(t){return Object(r["a"])({method:"post",url:"/testSuite/list",params:t})}},e2a2:function(t,e,n){"use strict";var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-form",{attrs:{data:t.testSuite,"label-width":"100px"}},[n("el-form-item",{attrs:{label:"测试集名",rules:[{required:!0}]}},[n("el-input",{staticStyle:{width:"300px"},attrs:{clearable:""},model:{value:t.testSuite.name,callback:function(e){t.$set(t.testSuite,"name","string"===typeof e?e.trim():e)},expression:"testSuite.name"}})],1),t._v(" "),n("el-form-item",{attrs:{label:"描述"}},[n("el-input",{staticStyle:{width:"300px"},attrs:{type:"textarea",clearable:""},model:{value:t.testSuite.description,callback:function(e){t.$set(t.testSuite,"description","string"===typeof e?e.trim():e)},expression:"testSuite.description"}})],1),t._v(" "),n("el-form-item",{attrs:{label:"测试用例",rules:[{required:!0}]}},[n("el-tree",{ref:"tree",attrs:{data:t.treeData,"show-checkbox":"",props:{children:"children",label:"name"},"default-expand-all":"","node-key":"id","default-checked-keys":t.testSuite.testcases}})],1),t._v(" "),n("el-form-item",[n("el-button",{attrs:{type:"primary"},on:{click:t.saveTestSuite}},[t._v("保 存")])],1)],1)},i=[],a=n("d023"),s=n("8121"),u=n("cf45"),c={props:{isAdd:Boolean},data:function(){return{testSuite:{id:void 0,name:"",description:"",testcases:[],projectId:this.$store.state.project.id},treeData:[]}},computed:{projectId:function(){return this.$store.state.project.id},platform:function(){return this.$store.state.project.platform}},created:function(){var t=this;this.fetchActionCascader(),this.isAdd?Object(u["a"])(this.testSuite,this.$route.params):Object(a["c"])({id:this.$route.params.testSuiteId}).then((function(e){t.testSuite=e.data[0]}))},methods:{fetchActionCascader:function(){var t=this;Object(s["d"])(this.projectId,this.platform,3).then((function(e){t.treeData=e.data}))},saveTestSuite:function(){var t=this;this.testSuite.testcases=this.$refs.tree.getCheckedKeys().filter((function(t){return t})),this.isAdd?Object(a["a"])(this.testSuite).then((function(e){t.saveTestSuiteSuccess(e.msg)})):Object(a["d"])(this.testSuite).then((function(e){t.saveTestSuiteSuccess(e.msg)}))},saveTestSuiteSuccess:function(t){var e=this;this.$notify.success(t),this.$store.dispatch("tagsView/delView",this.$store.state.tagsView.visitedViews.filter((function(t){return t.path===e.$route.path}))[0]),this.$router.back()}}},o=c,d=n("2877"),l=Object(d["a"])(o,r,i,!1,null,null,null);e["a"]=l.exports},ea51:function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"app-container"},[n("save-test-suite",{attrs:{"is-add":!1}})],1)},i=[],a=n("e2a2"),s={name:"UpdateTestSuite",components:{SaveTestSuite:a["a"]}},u=s,c=n("2877"),o=Object(c["a"])(u,r,i,!1,null,null,null);e["default"]=o.exports}}]);