(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-9a164e34"],{"147c":function(t,e,n){},1647:function(t,e,n){},"164b":function(t,e,n){(function(t){t(n("56b3"))})((function(t){"use strict";t.registerGlobalHelper("fold","comment",(function(t){return t.blockCommentStart&&t.blockCommentEnd}),(function(e,n){var i=e.getModeAt(n),o=i.blockCommentStart,r=i.blockCommentEnd;if(o&&r){for(var a,s=n.line,l=e.getLine(s),c=n.ch,u=0;;){var d=c<=0?-1:l.lastIndexOf(o,c-1);if(-1!=d){if(1==u&&d<n.ch)return;if(/comment/.test(e.getTokenTypeAt(t.Pos(s,d+1)))&&(0==d||l.slice(d-r.length,d)==r||!/comment/.test(e.getTokenTypeAt(t.Pos(s,d))))){a=d+o.length;break}c=d-1}else{if(1==u)return;u=1,c=l.length}}var p,f,m=1,v=e.lastLine();t:for(var h=s;h<=v;++h)for(var b=e.getLine(h),g=h==s?a:0;;){var w=b.indexOf(o,g),y=b.indexOf(r,g);if(w<0&&(w=b.length),y<0&&(y=b.length),g=Math.min(w,y),g==b.length)break;if(g==w)++m;else if(!--m){p=h,f=g;break t}++g}if(null!=p&&(s!=p||f!=a))return{from:t.Pos(s,a),to:t.Pos(p,f)}}}))}))},"2f21":function(t,e,n){"use strict";var i=n("79e5");t.exports=function(t,e){return!!t&&i((function(){e?t.call(null,(function(){}),1):t.call(null)}))}},"45a2":function(t,e,n){"use strict";n.d(e,"a",(function(){return o})),n.d(e,"c",(function(){return r})),n.d(e,"d",(function(){return a})),n.d(e,"b",(function(){return s})),n.d(e,"e",(function(){return l}));var i=n("b775");function o(t){return Object(i["a"])({method:"post",url:"/page/add",data:t})}function r(t){return Object(i["a"])({method:"get",url:"/page/".concat(t)})}function a(t){return Object(i["a"])({method:"post",url:"/page/list",params:t})}function s(t){return Object(i["a"])({method:"delete",url:"/page/".concat(t)})}function l(t){return Object(i["a"])({method:"post",url:"/page/update",data:t})}},4895:function(t,e,n){(function(t){t(n("56b3"))})((function(t){"use strict";function e(e,i,r,a){if(r&&r.call){var s=r;r=null}else s=o(e,r,"rangeFinder");"number"==typeof i&&(i=t.Pos(i,0));var l=o(e,r,"minFoldSize");function c(t){var n=s(e,i);if(!n||n.to.line-n.from.line<l)return null;for(var o=e.findMarksAt(n.from),r=0;r<o.length;++r)if(o[r].__isFold&&"fold"!==a){if(!t)return null;n.cleared=!0,o[r].clear()}return n}var u=c(!0);if(o(e,r,"scanUp"))while(!u&&i.line>e.firstLine())i=t.Pos(i.line-1,0),u=c(!1);if(u&&!u.cleared&&"unfold"!==a){var d=n(e,r);t.on(d,"mousedown",(function(e){p.clear(),t.e_preventDefault(e)}));var p=e.markText(u.from,u.to,{replacedWith:d,clearOnEnter:o(e,r,"clearOnEnter"),__isFold:!0});p.on("clear",(function(n,i){t.signal(e,"unfold",e,n,i)})),t.signal(e,"fold",e,u.from,u.to)}}function n(t,e){var n=o(t,e,"widget");if("string"==typeof n){var i=document.createTextNode(n);n=document.createElement("span"),n.appendChild(i),n.className="CodeMirror-foldmarker"}else n&&(n=n.cloneNode(!0));return n}t.newFoldFunction=function(t,n){return function(i,o){e(i,o,{rangeFinder:t,widget:n})}},t.defineExtension("foldCode",(function(t,n,i){e(this,t,n,i)})),t.defineExtension("isFolded",(function(t){for(var e=this.findMarksAt(t),n=0;n<e.length;++n)if(e[n].__isFold)return!0})),t.commands.toggleFold=function(t){t.foldCode(t.getCursor())},t.commands.fold=function(t){t.foldCode(t.getCursor(),null,"fold")},t.commands.unfold=function(t){t.foldCode(t.getCursor(),null,"unfold")},t.commands.foldAll=function(e){e.operation((function(){for(var n=e.firstLine(),i=e.lastLine();n<=i;n++)e.foldCode(t.Pos(n,0),null,"fold")}))},t.commands.unfoldAll=function(e){e.operation((function(){for(var n=e.firstLine(),i=e.lastLine();n<=i;n++)e.foldCode(t.Pos(n,0),null,"unfold")}))},t.registerHelper("fold","combine",(function(){var t=Array.prototype.slice.call(arguments,0);return function(e,n){for(var i=0;i<t.length;++i){var o=t[i](e,n);if(o)return o}}})),t.registerHelper("fold","auto",(function(t,e){for(var n=t.getHelpers(e,"fold"),i=0;i<n.length;i++){var o=n[i](t,e);if(o)return o}}));var i={rangeFinder:t.fold.auto,widget:"↔",minFoldSize:0,scanUp:!1,clearOnEnter:!0};function o(t,e,n){if(e&&void 0!==e[n])return e[n];var o=t.options.foldOptions;return o&&void 0!==o[n]?o[n]:i[n]}t.defineOption("foldOptions",null),t.defineExtension("foldOption",(function(t,e){return o(this,t,e)}))}))},5061:function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticStyle:{padding:"3px"}},[n("div",{attrs:{id:"top"}},[n("el-row",[n("el-form",{attrs:{size:"mini",inline:!0}},[n("el-form-item",{attrs:{label:"分类"}},[n("el-select",{attrs:{clearable:"",filterable:"",placeholder:"选择分类"},on:{"visible-change":t.actionCategorySelectChange},model:{value:t.saveActionForm.categoryId,callback:function(e){t.$set(t.saveActionForm,"categoryId",e)},expression:"saveActionForm.categoryId"}},t._l(t.categories,(function(t){return n("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})})),1)],1),t._v(" "),n("el-form-item",{attrs:{label:t.isTestCase?"用例名":"Action名",rules:[{required:!0}]}},[n("el-input",{attrs:{clearable:""},model:{value:t.saveActionForm.name,callback:function(e){t.$set(t.saveActionForm,"name",e)},expression:"saveActionForm.name"}})],1),t._v(" "),n("el-form-item",{attrs:{label:"描述"}},[n("el-input",{attrs:{clearable:""},model:{value:t.saveActionForm.description,callback:function(e){t.$set(t.saveActionForm,"description",e)},expression:"saveActionForm.description"}})],1),t._v(" "),n("el-form-item",[n("el-select",{staticStyle:{width:"80px"},model:{value:t.saveActionForm.state,callback:function(e){t.$set(t.saveActionForm,"state",e)},expression:"saveActionForm.state"}},t._l(t.stateList,(function(t){return n("el-option",{key:t.state,attrs:{label:t.name,value:t.state}})})),1)],1),t._v(" "),n("el-form-item",[n("el-button",{attrs:{type:"success",title:"ctrl+s"},on:{click:t.saveAction}},[t._v("保存")])],1)],1)],1),t._v(" "),n("el-row",[n("el-form",{attrs:{size:"mini",inline:!0}},[n("el-form-item",[t.isTestCase?n("el-button",{directives:[{name:"popover",rawName:"v-popover:action-set-up-popover",arg:"action-set-up-popover"}],attrs:{type:"text"}},[t._v("setUp")]):t._e(),t._v(" "),t.isTestCase?n("el-button",{directives:[{name:"popover",rawName:"v-popover:action-tear-down-popover",arg:"action-tear-down-popover"}],attrs:{type:"text"}},[t._v("tearDown")]):t._e(),t._v(" "),n("el-button",{directives:[{name:"popover",rawName:"v-popover:action-return-value-popover",arg:"action-return-value-popover"}],attrs:{type:"text"}},[t._v("返回值")]),t._v(" "),t.isTestCase?t._e():n("el-button",{directives:[{name:"popover",rawName:"v-popover:action-param-popover",arg:"action-param-popover"}],attrs:{type:"text"}},[t._v("方法参数")]),t._v(" "),n("el-button",{attrs:{type:"text"},on:{click:function(e){t.showLocalVar=!0}}},[t._v("局部变量")]),t._v(" "),n("el-button",{directives:[{name:"popover",rawName:"v-popover:action-java-import-popover",arg:"action-java-import-popover"}],attrs:{type:"text"}},[t._v("Java Import")]),t._v(" "),n("el-button",{directives:[{name:"popover",rawName:"v-popover:action-import-popover",arg:"action-import-popover"}],attrs:{type:"text",title:"java代码调用非基础Action，需要在此导入"}},[t._v("导入Action")]),t._v(" "),t.isTestCase?n("el-button",{directives:[{name:"popover",rawName:"v-popover:action-depends-popover",arg:"action-depends-popover"}],attrs:{type:"text"}},[t._v("依赖用例")]):t._e(),t._v(" "),t.isTestCase?t._e():n("el-button",{directives:[{name:"popover",rawName:"v-popover:action-page-popover",arg:"action-page-popover"}],attrs:{type:"text"}},[t._v("绑定Page")])],1),t._v(" "),n("el-form-item",{attrs:{label:"调试环境"}},[n("el-select",{staticStyle:{width:"150px"},on:{change:t.selectedEnv,"visible-change":t.envSelectChange},model:{value:t.env,callback:function(e){t.env=e},expression:"env"}},t._l(t.environmentList,(function(t){return n("el-option",{key:t.id,attrs:{value:t.id,label:t.name}})})),1)],1),t._v(" "),n("el-form-item",[n("el-button",{attrs:{type:"warning",loading:t.debugBtnLoading,title:"ctrl+d"},on:{click:t.debugAction}},[t._v("调试")])],1),t._v(" "),n("el-form-item",{attrs:{label:"串口设备"}},[n("el-select",{staticStyle:{width:"90%"},attrs:{"value-key":"id"},on:{"visible-change":t.deviceSelectChange},model:{value:t.serialDebugDevice,callback:function(e){t.serialDebugDevice=e},expression:"serialDebugDevice"}},t._l(t.tvList,(function(t){return n("el-option",{key:t.id,attrs:{value:t,label:t.id}})})),1)],1),t._v(" "),n("el-form-item",[n("el-button",{attrs:{type:"warning"},on:{click:t.debugactionForSerial}},[t._v("串口调试")])],1),t._v(" "),n("el-form-item",[n("el-button",{directives:[{name:"show",rawName:"v-show",value:t.code,expression:"code"}],attrs:{type:"primary"},on:{click:function(e){t.showCode=!0}}},[t._v("查看code")])],1)],1)],1)],1),t._v(" "),n("action-step",{ref:"actionStep",attrs:{steps:t.saveActionForm.steps,height:t.bottomHeight},on:{"update:steps":function(e){return t.$set(t.saveActionForm,"steps",e)},actionTreeChange:t.onActionTreeChange}}),t._v(" "),n("action-code-drawer",{attrs:{code:t.code,visible:t.showCode},on:{"update:visible":function(e){t.showCode=e}}}),t._v(" "),n("action-local-var-list-drawer",{attrs:{visible:t.showLocalVar,"local-vars":t.saveActionForm.localVars,"environment-list":t.environmentList},on:{"update:visible":function(e){t.showLocalVar=e},"update:localVars":function(e){return t.$set(t.saveActionForm,"localVars",e)},"update:local-vars":function(e){return t.$set(t.saveActionForm,"localVars",e)}}}),t._v(" "),n("el-popover",{ref:"action-import-popover",attrs:{placement:"bottom",width:"600",trigger:"click"}},[n("el-cascader",{staticStyle:{width:"100%"},attrs:{props:{value:"id",label:"name",children:"children",emitPath:!1,multiple:!0,expandTrigger:"hover"},options:t.importActionOptions,filterable:"",clearable:""},model:{value:t.saveActionForm.actionImports,callback:function(e){t.$set(t.saveActionForm,"actionImports",e)},expression:"saveActionForm.actionImports"}})],1),t._v(" "),n("el-popover",{ref:"action-depends-popover",attrs:{placement:"bottom",width:"600",trigger:"click"}},[n("el-cascader",{staticStyle:{width:"100%"},attrs:{props:{value:"id",label:"name",children:"children",emitPath:!1,multiple:!0,expandTrigger:"hover"},options:t.dependsOptions,filterable:"",clearable:""},model:{value:t.saveActionForm.depends,callback:function(e){t.$set(t.saveActionForm,"depends",e)},expression:"saveActionForm.depends"}})],1),t._v(" "),n("el-popover",{ref:"action-page-popover",attrs:{placement:"bottom",width:"600",trigger:"click"}},[n("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"",clearable:""},on:{"visible-change":t.pageSelectChange},model:{value:t.saveActionForm.pageId,callback:function(e){t.$set(t.saveActionForm,"pageId",e)},expression:"saveActionForm.pageId"}},t._l(t.pages,(function(t){return n("el-option",{key:t.id,attrs:{value:t.id,label:t.name}})})),1)],1),t._v(" "),n("el-popover",{ref:"action-set-up-popover",attrs:{placement:"bottom",width:"1200",trigger:"click"}},[n("action-step",{ref:"actionSetUp",attrs:{steps:t.saveActionForm.setUp,height:t.bottomHeight},on:{"update:steps":function(e){return t.$set(t.saveActionForm,"setUp",e)}}})],1),t._v(" "),n("el-popover",{ref:"action-tear-down-popover",attrs:{placement:"bottom",width:"1200",trigger:"click"}},[n("action-step",{ref:"actionTearDown",attrs:{steps:t.saveActionForm.tearDown,height:t.bottomHeight},on:{"update:steps":function(e){return t.$set(t.saveActionForm,"tearDown",e)}}})],1),t._v(" "),n("el-popover",{ref:"action-return-value-popover",attrs:{placement:"bottom",width:"600",trigger:"click"}},[n("el-form",{attrs:{size:"mini","label-width":"50px"}},[n("el-form-item",{attrs:{label:"类型",rules:[{required:!0}]}},[n("el-input",{attrs:{clearable:""},model:{value:t.saveActionForm.returnValueType,callback:function(e){t.$set(t.saveActionForm,"returnValueType","string"===typeof e?e.trim():e)},expression:"saveActionForm.returnValueType"}})],1),t._v(" "),n("el-form-item",{attrs:{label:"描述"}},[n("el-input",{attrs:{clearable:""},model:{value:t.saveActionForm.returnValueDesc,callback:function(e){t.$set(t.saveActionForm,"returnValueDesc",e)},expression:"saveActionForm.returnValueDesc"}})],1)],1)],1),t._v(" "),n("el-popover",{ref:"action-param-popover",attrs:{placement:"bottom",width:"1000",trigger:"click"}},[n("action-param-list",{attrs:{params:t.saveActionForm.params},on:{"update:params":function(e){return t.$set(t.saveActionForm,"params",e)}}})],1),t._v(" "),n("el-popover",{ref:"action-java-import-popover",attrs:{placement:"bottom",width:"800",trigger:"click"}},[n("action-java-import-list",{attrs:{"java-imports":t.saveActionForm.javaImports},on:{"update:javaImports":function(e){return t.$set(t.saveActionForm,"javaImports",e)},"update:java-imports":function(e){return t.$set(t.saveActionForm,"javaImports",e)}}})],1)],1)},o=[],r=(n("7f7f"),n("a481"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("el-button",{attrs:{size:"mini"},on:{click:t.addJavaImport}},[t._v("添加Java Import")]),t._v(" "),t._l(t.javaImportList,(function(e,i){return n("el-input",{key:i,staticStyle:{"margin-top":"3px"},attrs:{placeholder:"eg: import java.util.List"},model:{value:t.javaImportList[i],callback:function(e){t.$set(t.javaImportList,i,e)},expression:"javaImportList[index]"}},[n("el-button",{attrs:{slot:"append",icon:"el-icon-delete"},on:{click:function(e){return t.deleteJavaImport(i)}},slot:"append"})],1)}))],2)}),a=[],s={props:{javaImports:{type:Array,default:function(){return[]}}},watch:{javaImports:function(){this.javaImportList=this.javaImports},javaImportList:function(){this.$emit("update:javaImports",this.javaImportList)}},data:function(){return{javaImportList:this.javaImports}},methods:{addJavaImport:function(){this.javaImportList.push("")},deleteJavaImport:function(t){this.javaImportList.splice(t,1)}}},l=s,c=n("2877"),u=Object(c["a"])(l,r,a,!1,null,null,null),d=u.exports,p=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-table",{attrs:{data:t.paramList,border:""}},[n("el-table-column",{attrs:{align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[n("el-input",{attrs:{clearable:""},model:{value:i.type,callback:function(e){t.$set(i,"type","string"===typeof e?e.trim():e)},expression:"row.type"}})]}}])},[n("template",{slot:"header"},[n("el-button",{staticClass:"el-icon-circle-plus",attrs:{type:"text"},on:{click:t.addParam}}),t._v("\n      方法参数类型\n    ")],1)],2),t._v(" "),n("el-table-column",{attrs:{label:"方法参数名",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[n("el-input",{attrs:{clearable:""},model:{value:i.name,callback:function(e){t.$set(i,"name","string"===typeof e?e.trim():e)},expression:"row.name"}})]}}])}),t._v(" "),n("el-table-column",{attrs:{label:"描述",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[n("el-input",{attrs:{type:"textarea",autosize:{minRows:1}},model:{value:i.description,callback:function(e){t.$set(i,"description","string"===typeof e?e.trim():e)},expression:"row.description"}})]}}])}),t._v(" "),n("el-table-column",{attrs:{label:"操作",align:"center",width:"45"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-button",{staticClass:"el-icon-delete",attrs:{type:"text"},on:{click:function(n){return t.deleteParam(e.$index)}}})]}}])})],1)},f=[],m={props:{params:{type:Array,default:function(){return[]}}},watch:{params:function(){this.paramList=this.params},paramList:function(){this.$emit("update:params",this.paramList)}},data:function(){return{paramList:this.params}},methods:{addParam:function(){this.paramList.push({type:"String",name:"",description:""})},deleteParam:function(t){this.paramList.splice(t,1)}}},v=m,h=Object(c["a"])(v,p,f,!1,null,null,null),b=h.exports,g=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-drawer",{attrs:{visible:t.drawerVisible,direction:"rtl","with-header":!1,size:"80%"},on:{"update:visible":function(e){t.drawerVisible=e}}},[n("el-table",{attrs:{data:t.localVarList,border:""}},[n("el-table-column",{attrs:{align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[n("el-input",{attrs:{clearable:""},model:{value:i.type,callback:function(e){t.$set(i,"type","string"===typeof e?e.trim():e)},expression:"row.type"}})]}}])},[n("template",{slot:"header"},[n("el-button",{staticClass:"el-icon-circle-plus",attrs:{type:"text"},on:{click:function(e){return t.addLocalVar(t.localVarList.length)}}}),t._v("\n        局部变量类型\n      ")],1)],2),t._v(" "),n("el-table-column",{attrs:{label:"局部变量名",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[n("el-input",{attrs:{type:"textarea",autosize:{minRows:1}},model:{value:i.name,callback:function(e){t.$set(i,"name","string"===typeof e?e.trim():e)},expression:"row.name"}})]}}])}),t._v(" "),n("el-table-column",{attrs:{label:"局部变量值",align:"center","min-width":"320"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[n("el-table",{attrs:{data:i.environmentValues,border:""}},[n("el-table-column",{attrs:{label:"环境",align:"center",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[n("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"选择环境"},model:{value:i.environmentId,callback:function(e){t.$set(i,"environmentId",e)},expression:"row.environmentId"}},t._l(t.environmentList,(function(t){return n("el-option",{key:t.id,attrs:{value:t.id,label:t.name}})})),1)]}}],null,!0)}),t._v(" "),n("el-table-column",{attrs:{label:"值",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[n("image-input",{model:{value:i.value,callback:function(e){t.$set(i,"value",e)},expression:"row.value"}})]}}],null,!0)}),t._v(" "),n("el-table-column",{attrs:{label:"操作",align:"center",width:"85"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-button-group",[n("el-button",{on:{click:function(n){return t.addEnvironmentValue(i,e.$index)}}},[t._v("+")]),t._v(" "),n("el-button",{attrs:{disabled:0===e.$index},on:{click:function(n){return t.delEnvironmentValue(i,e.$index)}}},[t._v("-")])],1)]}}],null,!0)})],1)]}}])}),t._v(" "),n("el-table-column",{attrs:{label:"描述",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[n("el-input",{attrs:{type:"textarea",clearable:"",autosize:{minRows:1}},model:{value:i.description,callback:function(e){t.$set(i,"description","string"===typeof e?e.trim():e)},expression:"row.description"}})]}}])}),t._v(" "),n("el-table-column",{attrs:{label:"操作",align:"center",width:"85"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-button-group",[n("el-button",{on:{click:function(n){return t.addLocalVar(e.$index)}}},[t._v("+")]),t._v(" "),n("el-button",{on:{click:function(n){return t.deleteLocalVar(e.$index)}}},[t._v("-")])],1)]}}])})],1)],1)},w=[],y=n("ab2e"),_={props:{visible:Boolean,environmentList:Array,localVars:{type:Array,default:function(){return[]}}},components:{ImageInput:y["a"]},watch:{visible:function(t){this.drawerVisible=t},drawerVisible:function(t){this.$emit("update:visible",t)},localVars:function(){this.localVarList=this.localVars},localVarList:function(){this.$emit("update:localVars",this.localVarList)}},data:function(){return{drawerVisible:!1,localVarList:this.localVars}},methods:{addLocalVar:function(t){this.localVarList.splice(t+1,0,{type:"String",name:"",environmentValues:[{environmentId:-1,value:""}],description:""})},deleteLocalVar:function(t){this.localVarList.splice(t,1)},addEnvironmentValue:function(t,e){t.environmentValues.splice(e+1,0,{environmentId:void 0,value:""})},delEnvironmentValue:function(t,e){t.environmentValues.splice(e,1)}}},k=_,x=Object(c["a"])(k,g,w,!1,null,null,null),A=x.exports,S=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("el-row",{attrs:{gutter:2}},[n("el-col",{attrs:{span:5}},[n("action-tree",{ref:"actionTree",attrs:{height:t.height,"action-tree":t.actionTree,"step-count":t.stepList.length},on:{actionClick:t.addStep}})],1),t._v(" "),n("el-col",{attrs:{span:19}},[t.showTable?n("el-table",{ref:"table",attrs:{data:t.stepList,border:"",height:t.height,"highlight-current-row":""},on:{"selection-change":t.handleSelectionChange,"row-click":t.clickStep}},[n("el-table-column",{attrs:{type:"selection",width:"20"}}),t._v(" "),n("el-table-column",{attrs:{width:"220"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("div",{staticStyle:{"margin-bottom":"3px"}},[t._v("\n              "+t._s(t.stepNumber(e.row,e.$index+1)+".")+"\n              "),n("el-input",{staticStyle:{width:"90%"},attrs:{type:"textarea",autosize:{minRows:1},placeholder:"步骤名"},model:{value:e.row.name,callback:function(n){t.$set(e.row,"name",n)},expression:"scope.row.name"}})],1),t._v(" "),n("div",[n("el-select",{staticStyle:{width:"100%"},attrs:{size:"mini"},model:{value:e.row.handleException,callback:function(n){t.$set(e.row,"handleException",n)},expression:"scope.row.handleException"}},[n("el-option",{attrs:{label:"失败时：中断执行",value:null}}),t._v(" "),n("el-option",{attrs:{label:"失败时：忽略，继续执行",value:0}}),t._v(" "),n("el-option",{attrs:{label:"失败时：抛出跳过异常",value:1}})],1)],1)]}}],null,!1,4292683444)},[n("template",{slot:"header"},[t._v("\n            步骤\n          ")])],2),t._v(" "),n("el-table-column",{attrs:{label:"Action","min-width":"300"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[n("el-table",{attrs:{data:i.args,border:""}},[n("el-table-column",{key:i.actionId,attrs:{label:"参数",width:"150","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[n("span",[t._v(t._s(t.getSimpleParamType(i.actionId,e.$index)))]),t._v(" "),n("el-button",{attrs:{type:"text"},on:{click:function(n){return t.showStepActionParamDialog(i.actionId,e.$index,i.args)}}},[t._v("\n                    "+t._s(t.getParamName(i.actionId,e.$index))+"\n                  ")])]}}],null,!0)},[n("template",{slot:"header"},[n("el-tag",{attrs:{type:"success"},on:{click:function(e){return t.clickActionName(i.actionId)}}},[t._v(t._s(t.getActionName(i.actionId)))])],1)],2),t._v(" "),n("el-table-column",{attrs:{label:"参数值"},scopedSlots:t._u([{key:"default",fn:function(e){return[[1,2002,2009,2010].includes(i.actionId)?n("div",{staticClass:"java-code"},[n("codemirror",{attrs:{options:t.cmOptions},model:{value:i.args[e.$index],callback:function(n){t.$set(i.args,e.$index,n)},expression:"row.args[scope.$index]"}})],1):n("div",[n("image-input",{model:{value:i.args[e.$index],callback:function(n){t.$set(i.args,e.$index,n)},expression:"row.args[scope.$index]"}})],1)]}}],null,!0)})],1)]}}],null,!1,2139788645)}),t._v(" "),n("el-table-column",{attrs:{label:"赋值"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[n("span",{staticClass:"ellipsis"},[t._v(t._s(t.getActionReturnValueText(i.actionId)))]),t._v(" "),n("el-input",{attrs:{disabled:t.isEvaluationDisabled(i.actionId),type:"textarea",autosize:{minRows:1}},model:{value:i.evaluation,callback:function(e){t.$set(i,"evaluation",e)},expression:"row.evaluation"}})]}}],null,!1,3120045836)}),t._v(" "),n("el-table-column",{attrs:{label:"操作",width:"94"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-tag",{attrs:{type:1===e.row.status?"success":"danger",size:"mini"}},[t._v("\n              "+t._s(1===e.row.status?"启用":"禁用")+"\n            ")]),t._v(" "),n("el-switch",{attrs:{"active-value":1,"inactive-value":0,"active-color":"#13ce66"},model:{value:e.row.status,callback:function(n){t.$set(e.row,"status",n)},expression:"scope.row.status"}}),t._v(" "),n("el-button-group",{staticStyle:{"margin-top":"1px"}},[n("el-button",{staticClass:"el-icon-top",attrs:{size:"mini",disabled:t.moveUpDisable(e.$index)},on:{click:function(n){return t.moveUp(e.$index)}}}),t._v(" "),n("el-button",{staticClass:"el-icon-bottom",attrs:{size:"mini",disabled:t.moveDownDisable(e.$index)},on:{click:function(n){return t.moveDown(e.$index)}}})],1),t._v(" "),n("el-button-group",{staticStyle:{"margin-top":"3px"}},[n("el-button",{staticClass:"el-icon-document-copy",attrs:{size:"mini"},on:{click:function(n){return t.copyStep(e.$index,e.row)}}}),t._v(" "),n("el-button",{staticClass:"el-icon-delete",attrs:{size:"mini"},on:{click:function(n){return t.deleteStep(e.$index)}}})],1)]}}],null,!1,3944490166)})],1):t._e()],1)],1),t._v(" "),n("el-dialog",{attrs:{title:t.stepActionParamDialog.param.name,visible:t.stepActionParamDialog.visible},on:{"update:visible":function(e){return t.$set(t.stepActionParamDialog,"visible",e)}}},[n("el-form",{attrs:{size:"mini","label-position":"left","label-width":"80px"}},[n("el-form-item",{attrs:{label:"描述"}},[t._v("\n        "+t._s(t.stepActionParamDialog.param.description||"暂无描述")+"\n      ")]),t._v(" "),n("el-form-item",{attrs:{label:"可选值"}},[n("el-table",{attrs:{data:t.stepActionParamDialog.param.possibleValues||[],border:""}},[n("el-table-column",{attrs:{align:"center",label:"值"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[n("el-button",{attrs:{type:"text"},on:{click:function(e){return t.clickPossibleValue(i.value)}}},[t._v(t._s(i.value))])]}}])}),t._v(" "),n("el-table-column",{attrs:{property:"description",align:"center",label:"描述"}})],1)],1)],1)],1)],1)},$=[],L=(n("96cf"),n("1da1")),O=(n("55dd"),n("ac6a"),n("5df3"),n("f400"),n("c5f6"),n("8121")),I=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",[n("el-input",{staticStyle:{width:"100%"},attrs:{placeholder:"试试输入: click/点击，通过name invoke过滤",clearable:"",size:"mini"},model:{value:t.filterText,callback:function(e){t.filterText=e},expression:"filterText"}})],1),t._v(" "),n("div",{style:t.treeStyle},[n("el-tree",{ref:"tree",attrs:{data:t.actionTree,props:{children:"children",label:"name"},"highlight-current":"","default-expand-all":"","filter-node-method":t.filterNode,"node-key":"id"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.node,o=e.data;return n("span",{},[n("span",{attrs:{title:t.nodeTitle(o)}},[t._v(t._s(i.label))]),t._v(" "),i.isLeaf?n("el-button",{attrs:{type:"text"},on:{click:function(e){return t.addStep(o)}}},[t._v("添加")]):t._e(),t._v(" "),i.isLeaf?n("el-button",{staticStyle:{"margin-left":"0px"},attrs:{type:"text"},on:{click:function(e){return t.insertStep(o)}}},[t._v("插入")]):t._e(),t._v(" "),i.isLeaf?n("el-button",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:t.copyJavaInvoke(o),expression:"copyJavaInvoke(data)",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:t.onCopySuccess,expression:"onCopySuccess",arg:"success"}],staticStyle:{"margin-left":"0px"},attrs:{type:"text"}},[t._v("Java调用")]):t._e()],1)}}])})],1),t._v(" "),n("el-dialog",{attrs:{title:t.dialogTitle,visible:t.dialogVisible,width:"30%"},on:{"update:visible":function(e){t.dialogVisible=e}}},[n("el-form",{attrs:{"label-position":"left","label-width":"50px"}},[n("el-form-item",{attrs:{label:"步骤"}},[n("el-select",{attrs:{filterable:"",clearable:""},model:{value:t.insertStepNumber,callback:function(e){t.insertStepNumber=e},expression:"insertStepNumber"}},t._l(t.stepCount,(function(t){return n("el-option",{key:t,attrs:{value:t}})})),1)],1)],1),t._v(" "),n("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(e){t.dialogVisible=!1}}},[t._v("取 消")]),t._v(" "),n("el-button",{attrs:{type:"primary"},on:{click:t.confirmInsertStep}},[t._v("确 定")])],1)],1)],1)},j=[],C=n("8325"),V=n("cf45"),T={props:{actionTree:Array,stepCount:Number,height:Number},directives:{clipboard:C["a"]},watch:{filterText:function(t){this.$refs.tree.filter(t)}},computed:{treeStyle:function(){return"height: ".concat(this.height-28,"px; overflow: auto")}},data:function(){return{filterText:"",dialogTitle:"",dialogVisible:!1,insertStepNumber:null,insertAction:null}},methods:{filterNode:function(t,e){return!t||(e.invoke?-1!==e.name.indexOf(t)||-1!==e.invoke.indexOf(t):-1!==e.name.indexOf(t))},nodeTitle:function(t){if(t.id){var e="描述: "+(t.description||"无"),n="invoke: "+(t.invoke||"无"),i="返回值: "+t.returnValueType;t.returnValueDesc&&(i=i+"("+t.returnValueDesc+")");var o="方法参数: ";if(t.params&&t.params.length>0){var r=JSON.parse(JSON.stringify(t.params));r.forEach((function(t){return delete t.possibleValues})),o+=JSON.stringify(r)}else o+="无";return e+"\n"+n+"\n"+i+"\n"+o}return""},addStep:function(t){this.$emit("actionClick",t)},insertStep:function(t){this.insertAction=t,this.dialogTitle=t.name,this.insertStepNumber=null,this.dialogVisible=!0},confirmInsertStep:function(){this.insertStepNumber?(this.$emit("actionClick",this.insertAction,this.insertStepNumber),this.dialogVisible=!1):this.$message.error("步骤号不能为空")},copyJavaInvoke:function(t){var e="";t.params&&t.params.length>0&&(e=t.params.map((function(t){return Object(V["b"])(t.type)+" "+t.name})).join(", "));var n=1===t.type?t.invoke:"action_"+t.id;return n+"("+e+")"},onCopySuccess:function(){this.$notify.success("Java调用已添加到剪切板")},setCurrentKey:function(t){this.$refs.tree.setCurrentKey(t)}}},F=T,D=Object(c["a"])(F,I,j,!1,null,null,null),P=D.exports,N=(n("4ba6"),n("697eb"),n("4895"),n("cbc8"),n("aedd"),n("164b"),{components:{ActionTree:P,ImageInput:y["a"]},props:{height:Number,steps:{type:Array,default:function(){return[]}}},data:function(){return{showTable:!1,stepActionParamDialog:{visible:!1,param:{},paramIndex:void 0,args:[]},stepList:this.steps,selectedSteps:[],actionTree:[],actionMap:new Map,cmOptions:{mode:"text/x-java",theme:"default",tabSize:2,lineNumbers:!0,foldGutter:!0,gutters:["CodeMirror-linenumbers","CodeMirror-foldgutter","CodeMirror-lint-markers"]}}},computed:{projectId:function(){return this.$store.state.project.id},platform:function(){return this.$store.state.project.platform},stepNumber:function(){return function(t,e){return t.number=e,t.number}}},watch:{steps:function(){this.stepList=this.steps},stepList:function(){this.$emit("update:steps",this.stepList)}},created:function(){this.fetchActionCascader()},methods:{showStepActionParamDialog:function(t,e,n){var i=this.actionMap.get(t);this.stepActionParamDialog.param=i.params[e],this.stepActionParamDialog.paramIndex=e,this.stepActionParamDialog.args=n,this.stepActionParamDialog.visible=!0},clickPossibleValue:function(t){this.$set(this.stepActionParamDialog.args,this.stepActionParamDialog.paramIndex,t),this.stepActionParamDialog.visible=!1},moveUpDisable:function(t){return 0===t},moveDownDisable:function(t){return t===this.stepList.length-1},moveUp:function(t){this.stepList[t-1]=this.stepList.splice(t,1,this.stepList[t-1])[0]},moveDown:function(t){this.stepList[t+1]=this.stepList.splice(t,1,this.stepList[t+1])[0]},deleteStep:function(t){this.stepList.splice(t,1)},addStep:function(t,e){var n={actionId:t.id,args:[],handleException:null,status:1};t.params&&t.params.forEach((function(t){n.args.push("")})),this.stepList.splice(e?e-1:this.stepList.length,0,n)},copyStep:function(t,e){var n=JSON.parse(JSON.stringify(e));delete n.number,this.stepList.splice(t,0,n)},handleSelectionChange:function(t){this.selectedSteps=this.stepList.filter((function(e){return-1!==t.indexOf(e)})).sort((function(t,e){return t.number-e.number}))},fetchActionCascader:function(){var t=Object(L["a"])(regeneratorRuntime.mark((function t(){var e,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(O["d"])(this.projectId,this.platform);case 2:e=t.sent,n=e.data,this.actionTree=n,this.$emit("actionTreeChange",this.actionTree),this.actionMap=new Map,this.actionTreeToMap(this.actionTree,this.actionMap),this.showTable=!0;case 9:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),getSimpleParamType:function(t,e){var n=this.actionMap.get(t);return Object(V["b"])(n.params[e].type)},getParamName:function(t,e){var n=this.actionMap.get(t);return n.params[e].name},getActionReturnValueText:function(t){var e=this.actionMap.get(t),n="返回值: ".concat(Object(V["b"])(e.returnValueType));return e.returnValueDesc&&(n="".concat(n,"(").concat(e.returnValueDesc,")")),n},isEvaluationDisabled:function(t){var e=this.actionMap.get(t);return"void"===e.returnValueType},getActionName:function(t){return this.actionMap.get(t).name},clickActionName:function(t){var e=this.actionMap.get(t).type;2===e?this.$router.push({name:"UpdateEncapsulationAction",params:{actionId:t}}):3===e&&this.$router.push({name:"UpdateTestcaseAction",params:{actionId:t}})},actionTreeToMap:function(t,e){var n=this;t.forEach((function(t){t.id&&e.set(t.id,t),t.children&&n.actionTreeToMap(t.children,e)}))},clickStep:function(t){this.$refs.actionTree.setCurrentKey(t.actionId)}}}),E=N,M=(n("8005"),Object(c["a"])(E,S,$,!1,null,"10bb2ec0",null)),z=M.exports,J=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-drawer",{attrs:{visible:t.drawerVisible,direction:"rtl","with-header":!1,"destroy-on-close":!0,size:"50%"},on:{"update:visible":function(e){t.drawerVisible=e}}},[n("div",{staticStyle:{"font-size":"8px"}},[n("codemirror",{attrs:{options:t.cmOptions},model:{value:t.code,callback:function(e){t.code=e},expression:"code"}})],1)])},U=[],B=(n("8c2e"),{props:{visible:Boolean,code:String},watch:{visible:function(t){this.drawerVisible=t},drawerVisible:function(t){this.$emit("update:visible",t)}},data:function(){return{drawerVisible:!1,cmOptions:{mode:"text/x-java",theme:"base16-dark",lineNumbers:!0,readOnly:!0,foldGutter:!0,gutters:["CodeMirror-linenumbers","CodeMirror-foldgutter","CodeMirror-lint-markers"]}}}}),G=B,H=(n("b03b"),Object(c["a"])(G,J,U,!1,null,null,null)),R=H.exports,K=n("45a2"),W=n("c405"),q=n("6d17"),Y=n("5cc1"),Q={components:{ActionJavaImportList:d,ActionParamList:b,ActionLocalVarListDrawer:A,ActionStep:z,ActionCodeDrawer:R},props:{isAdd:Boolean,isTestCase:Boolean},data:function(){return{env:this.$store.state.project.env,bottomHeight:60,environmentList:[],stateList:V["d"],serialDebugDevice:this.$store.state.mobile.yifengdebug,tvList:[],queryTvForm:{name:"TCL_TV"},saveActionForm:{id:void 0,name:"",description:"",type:this.isTestCase?3:2,returnValueType:"void",returnValueDesc:null,params:[],localVars:[],setUp:[],steps:[],tearDown:[],javaImports:[],actionImports:[],platforms:[],pageId:null,projectId:this.$store.state.project.id,categoryId:null,state:2,depends:null},categories:[],pages:[],debugBtnLoading:!1,startSaveActionFormString:"",dependsOptions:[],importActionOptions:[],showCode:!1,code:"",showLocalVar:!1}},destroyed:function(){window.onbeforeunload=null,window.onresize=null,document.onkeydown=null},mounted:function(){var t=this,e=document.getElementById("top"),n=parseInt(window.getComputedStyle(e)["height"].replace("px",""));this.$nextTick((function(){t.bottomHeight=window.innerHeight-(n+100),window.onresize=function(){t.bottomHeight=window.innerHeight-(n+100)}})),window.onbeforeunload=function(){if(t.isSaveActionFormChanged())return"提示"},document.onkeydown=function(){var e=window.event;83===e.keyCode&&e.ctrlKey?(t.saveAction(),e.preventDefault()):68===e.keyCode&&e.ctrlKey&&(t.debugAction(),e.preventDefault())}},created:function(){var t=this;this.fetchEnvironmentList(),this.fetchActionCategoryList(),this.isTestCase||this.fetchPageList(),this.isAdd?(Object(V["a"])(this.saveActionForm,this.$route.params),this.startSaveActionFormString=JSON.stringify(this.saveActionForm)):Object(O["e"])({id:this.$route.params.actionId}).then((function(e){t.saveActionForm=e.data[0],t.startSaveActionFormString=JSON.stringify(t.saveActionForm)}))},methods:{onActionTreeChange:function(t){if(t&&t.length>0){var e=t.filter((function(t){return"基础Action"!==t.name}));e.length>0&&(this.importActionOptions=e);var n=t.filter((function(t){return"测试用例"===t.name}));n.length>0&&(this.dependsOptions=n[0].children)}},pageSelectChange:function(t){t&&this.fetchPageList()},fetchPageList:function(){var t=this;Object(K["d"])({projectId:this.saveActionForm.projectId}).then((function(e){t.pages=e.data}))},actionCategorySelectChange:function(t){t&&this.fetchActionCategoryList()},fetchActionCategoryList:function(){var t=this,e=this.isTestCase?4:2;Object(W["c"])({projectId:this.saveActionForm.projectId,type:e}).then((function(e){t.categories=e.data}))},saveAction:function(){var t=this;this.isAdd?Object(O["a"])(this.saveActionForm).then((function(e){t.saveActionSuccess(e.msg)})):Object(O["f"])(this.saveActionForm).then((function(e){t.saveActionSuccess(e.msg)}))},saveActionSuccess:function(t){var e=this;this.$notify.success(t),this.$store.dispatch("tagsView/delView",this.$store.state.tagsView.visitedViews.filter((function(t){return t.path===e.$route.path}))[0]),this.$router.back()},debugAction:function(){var t=this;if(!this.debugBtnLoading){var e=this.$store.state.project.platform;if(1===e||2===e){if(!this.$store.state.mobile.show)return void this.$notify.error("先选择一个Mobile使用后才能调试");if(!this.$store.state.mobile.driverSessionId)return void this.$notify.error("appium正在初始化，请稍后")}else{if(3!==e)return void this.$notify.error("不支持的平台");if(!this.$store.state.browser.show)return void this.$notify.error("先选择一个浏览器使用后才能调试");if(!this.$store.state.browser.driverSessionId)return void this.$notify.error("webdriver正在初始化，请稍后")}this.debugBtnLoading=!0,this.code="";var n=JSON.parse(JSON.stringify(this.saveActionForm));n.setUp=this.$refs.actionSetUp.selectedSteps,n.steps=this.$refs.actionStep.selectedSteps,n.tearDown=this.$refs.actionTearDown.selectedSteps;var i=3===e?{agentIp:this.$store.state.browser.agentIp,agentPort:this.$store.state.browser.agentPort,deviceId:this.$store.state.browser.id}:{agentIp:this.$store.state.mobile.agentIp,agentPort:this.$store.state.mobile.agentPort,deviceId:this.$store.state.mobile.id};i.env=this.env,i.platform=e,Object(O["b"])({action:n,debugInfo:i}).then((function(e){t.$message.success(e.msg),t.code=e.data.code})).catch((function(e){t.code=e.data.code})).finally((function(){t.debugBtnLoading=!1}))}},debugactionForSerial:function(){var t=this;if(!this.debugBtnLoading)if(0!==this.serialDebugDevice.length){console.log(this.serialDebugDevice),console.log(this.serialDebugDevice.id),this.debugBtnLoading=!0,this.code="";var e=JSON.parse(JSON.stringify(this.saveActionForm));e.setUp=this.$refs.actionSetUp.selectedSteps,e.steps=this.$refs.actionStep.selectedSteps,e.tearDown=this.$refs.actionTearDown.selectedSteps;var n={agentIp:this.serialDebugDevice.agentIp,agentPort:this.serialDebugDevice.agentPort,deviceId:this.serialDebugDevice.id};n.env=this.env,n.platform=4,Object(O["b"])({action:e,debugInfo:n}).then((function(e){t.$message.success(e.msg),t.code=e.data.code})).catch((function(e){t.code=e.data.code})).finally((function(){t.debugBtnLoading=!1}))}else this.$notify.error("没有选择串口设备")},deviceSelectChange:function(t){t&&this.fetchOnlineTvDevices()},fetchOnlineTvDevices:function(){var t=this;Object(Y["b"])(this.queryTvForm).then((function(e){t.tvList=e.data}))},isSaveActionFormChanged:function(){return JSON.stringify(this.saveActionForm)!==this.startSaveActionFormString},envSelectChange:function(t){t&&this.fetchEnvironmentList()},fetchEnvironmentList:function(){var t=this;Object(q["c"])({projectId:this.$store.state.project.id}).then((function(e){t.environmentList=[{id:-1,name:"默认"}].concat(e.data),0===t.environmentList.filter((function(e){return e.id===t.env})).length&&(t.$store.dispatch("project/setEnv",-1),t.env=-1)}))},selectedEnv:function(t){var e=this.environmentList.filter((function(e){return e.id===t}))[0];this.$store.dispatch("project/setEnv",e.id)},yifeng:function(t){this.$store.dispatch("mobile/setYifengDebug",t.id)}}},X=Q,Z=Object(c["a"])(X,i,o,!1,null,null,null);e["a"]=Z.exports},"55dd":function(t,e,n){"use strict";var i=n("5ca1"),o=n("d8e8"),r=n("4bf8"),a=n("79e5"),s=[].sort,l=[1,2,3];i(i.P+i.F*(a((function(){l.sort(void 0)}))||!a((function(){l.sort(null)}))||!n("2f21")(s)),"Array",{sort:function(t){return void 0===t?s.call(r(this)):s.call(r(this),o(t))}})},"5cc1":function(t,e,n){"use strict";n.d(e,"b",(function(){return o})),n.d(e,"d",(function(){return r})),n.d(e,"c",(function(){return a})),n.d(e,"a",(function(){return s}));var i=n("b775");function o(t){return Object(i["a"])({method:"post",url:"/mobile/list",params:t})}function r(t){return Object(i["a"])({method:"get",url:"/mobile/".concat(t,"/start")})}function a(t){return Object(i["a"])({method:"get",url:"/mobile/online/platform/"+t})}function s(t){return Object(i["a"])({method:"delete",url:"/mobile/".concat(t)})}},"697eb":function(t,e,n){},"6d17":function(t,e,n){"use strict";n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return r})),n.d(e,"d",(function(){return a})),n.d(e,"c",(function(){return s}));var i=n("b775");function o(t){return Object(i["a"])({method:"post",url:"/environment/add",data:t})}function r(t){return Object(i["a"])({method:"delete",url:"/environment/".concat(t)})}function a(t){return Object(i["a"])({method:"post",url:"/environment/update",data:t})}function s(t){return Object(i["a"])({method:"post",url:"/environment/list",params:t})}},8005:function(t,e,n){"use strict";n("1647")},8121:function(t,e,n){"use strict";n.d(e,"a",(function(){return o})),n.d(e,"f",(function(){return r})),n.d(e,"e",(function(){return a})),n.d(e,"c",(function(){return s})),n.d(e,"d",(function(){return l})),n.d(e,"b",(function(){return c}));var i=n("b775");function o(t){return Object(i["a"])({method:"post",url:"/action/add",data:t})}function r(t){return Object(i["a"])({method:"post",url:"/action/update",data:t})}function a(t){return Object(i["a"])({method:"post",url:"/action/list",params:t})}function s(t){return Object(i["a"])({method:"delete",url:"/action/".concat(t)})}function l(t,e,n){return Object(i["a"])({method:"get",url:"/action/cascader",params:{projectId:t,platform:e,type:n}})}function c(t){return Object(i["a"])({method:"post",url:"/action/debug",data:t})}},ab2e:function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("span",[t.isBase64Png?n("el-image",{staticStyle:{width:"100px"},attrs:{src:t.src,"preview-src-list":[t.src]}}):t._e(),t._v(" "),t.isBase64Png?n("el-input",{staticStyle:{width:"100px"},attrs:{clearable:""},nativeOn:{paste:function(e){return t.onpaste(e)}},model:{value:t.currentValue,callback:function(e){t.currentValue="string"===typeof e?e.trim():e},expression:"currentValue"}}):t._e(),t._v(" "),t.isBase64Png?t._e():n("el-input",{attrs:{type:"textarea",autosize:{minRows:1,maxRows:10}},nativeOn:{paste:function(e){return t.onpaste(e)}},model:{value:t.currentValue,callback:function(e){t.currentValue="string"===typeof e?e.trim():e},expression:"currentValue"}})],1)},o=[],r=(n("4917"),n("f559"),n("c5f6"),{name:"ImageInput",props:{value:[String,Number]},data:function(){return{base64PngSrcPrefix:"data:image/png;base64,",base64PngPrefix:"iVBORw0KGgoAAAANSUhEUgAA",currentValue:this.value}},computed:{isBase64Png:function(){return!!this.currentValue&&this.currentValue.startsWith(this.base64PngPrefix)},src:function(){return this.base64PngSrcPrefix+this.currentValue}},watch:{value:function(t){this.currentValue=t},currentValue:function(t){this.$emit("input",t)}},methods:{onpaste:function(t){var e=this;if(t.clipboardData&&t.clipboardData.items){var n=t.clipboardData.items[0];if(n&&"file"===n.kind&&n.type.match(/^image\//i)){console.log("paste img to base64");var i=n.getAsFile(),o=new FileReader;o.onload=function(t){e.currentValue=t.target.result.substring(22)},o.readAsDataURL(i)}}}}}),a=r,s=n("2877"),l=Object(s["a"])(a,i,o,!1,null,null,null);e["a"]=l.exports},aedd:function(t,e,n){(function(t){t(n("56b3"))})((function(t){"use strict";t.registerHelper("fold","brace",(function(e,n){var i,o=n.line,r=e.getLine(o);function a(a){for(var s=n.ch,l=0;;){var c=s<=0?-1:r.lastIndexOf(a,s-1);if(-1!=c){if(1==l&&c<n.ch)break;if(i=e.getTokenTypeAt(t.Pos(o,c+1)),!/^(comment|string)/.test(i))return c+1;s=c-1}else{if(1==l)break;l=1,s=r.length}}}var s="{",l="}",c=a("{");if(null==c&&(s="[",l="]",c=a("[")),null!=c){var u,d,p=1,f=e.lastLine();t:for(var m=o;m<=f;++m)for(var v=e.getLine(m),h=m==o?c:0;;){var b=v.indexOf(s,h),g=v.indexOf(l,h);if(b<0&&(b=v.length),g<0&&(g=v.length),h=Math.min(b,g),h==v.length)break;if(e.getTokenTypeAt(t.Pos(m,h+1))==i)if(h==b)++p;else if(!--p){u=m,d=h;break t}++h}if(null!=u&&o!=u)return{from:t.Pos(o,c),to:t.Pos(u,d)}}})),t.registerHelper("fold","import",(function(e,n){function i(n){if(n<e.firstLine()||n>e.lastLine())return null;var i=e.getTokenAt(t.Pos(n,1));if(/\S/.test(i.string)||(i=e.getTokenAt(t.Pos(n,i.end+1))),"keyword"!=i.type||"import"!=i.string)return null;for(var o=n,r=Math.min(e.lastLine(),n+10);o<=r;++o){var a=e.getLine(o),s=a.indexOf(";");if(-1!=s)return{startCh:i.end,end:t.Pos(o,s)}}}var o,r=n.line,a=i(r);if(!a||i(r-1)||(o=i(r-2))&&o.end.line==r-1)return null;for(var s=a.end;;){var l=i(s.line+1);if(null==l)break;s=l.end}return{from:e.clipPos(t.Pos(r,a.startCh+1)),to:s}})),t.registerHelper("fold","include",(function(e,n){function i(n){if(n<e.firstLine()||n>e.lastLine())return null;var i=e.getTokenAt(t.Pos(n,1));return/\S/.test(i.string)||(i=e.getTokenAt(t.Pos(n,i.end+1))),"meta"==i.type&&"#include"==i.string.slice(0,8)?i.start+8:void 0}var o=n.line,r=i(o);if(null==r||null!=i(o-1))return null;for(var a=o;;){var s=i(a+1);if(null==s)break;++a}return{from:t.Pos(o,r+1),to:e.clipPos(t.Pos(a))}}))}))},b03b:function(t,e,n){"use strict";n("147c")},c405:function(t,e,n){"use strict";n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return r})),n.d(e,"e",(function(){return a})),n.d(e,"c",(function(){return s})),n.d(e,"d",(function(){return l}));var i=n("b775");function o(t){return Object(i["a"])({method:"post",url:"/category/add",data:t})}function r(t,e,n){return Object(i["a"])({method:"delete",url:"/category/".concat(t,"/type/").concat(e,"/project/").concat(n)})}function a(t){return Object(i["a"])({method:"post",url:"/category/update",data:t})}function s(t){return Object(i["a"])({method:"post",url:"/category/list",params:t})}function l(t,e){return Object(i["a"])({method:"get",url:"/category/tree",params:{projectId:t,type:e}})}},cbc8:function(t,e,n){(function(t){t(n("56b3"),n("4895"))})((function(t){"use strict";t.defineOption("foldGutter",!1,(function(e,o,r){r&&r!=t.Init&&(e.clearGutter(e.state.foldGutter.options.gutter),e.state.foldGutter=null,e.off("gutterClick",l),e.off("change",c),e.off("viewportChange",u),e.off("fold",d),e.off("unfold",d),e.off("swapDoc",c)),o&&(e.state.foldGutter=new n(i(o)),s(e),e.on("gutterClick",l),e.on("change",c),e.on("viewportChange",u),e.on("fold",d),e.on("unfold",d),e.on("swapDoc",c))}));var e=t.Pos;function n(t){this.options=t,this.from=this.to=0}function i(t){return!0===t&&(t={}),null==t.gutter&&(t.gutter="CodeMirror-foldgutter"),null==t.indicatorOpen&&(t.indicatorOpen="CodeMirror-foldgutter-open"),null==t.indicatorFolded&&(t.indicatorFolded="CodeMirror-foldgutter-folded"),t}function o(t,n){for(var i=t.findMarks(e(n,0),e(n+1,0)),o=0;o<i.length;++o)if(i[o].__isFold&&i[o].find().from.line==n)return i[o]}function r(t){if("string"==typeof t){var e=document.createElement("div");return e.className=t+" CodeMirror-guttermarker-subtle",e}return t.cloneNode(!0)}function a(t,n,i){var a=t.state.foldGutter.options,s=n,l=t.foldOption(a,"minFoldSize"),c=t.foldOption(a,"rangeFinder");t.eachLine(n,i,(function(n){var i=null;if(o(t,s))i=r(a.indicatorFolded);else{var u=e(s,0),d=c&&c(t,u);d&&d.to.line-d.from.line>=l&&(i=r(a.indicatorOpen))}t.setGutterMarker(n,a.gutter,i),++s}))}function s(t){var e=t.getViewport(),n=t.state.foldGutter;n&&(t.operation((function(){a(t,e.from,e.to)})),n.from=e.from,n.to=e.to)}function l(t,n,i){var r=t.state.foldGutter;if(r){var a=r.options;if(i==a.gutter){var s=o(t,n);s?s.clear():t.foldCode(e(n,0),a.rangeFinder)}}}function c(t){var e=t.state.foldGutter;if(e){var n=e.options;e.from=e.to=0,clearTimeout(e.changeUpdate),e.changeUpdate=setTimeout((function(){s(t)}),n.foldOnChangeTimeSpan||600)}}function u(t){var e=t.state.foldGutter;if(e){var n=e.options;clearTimeout(e.changeUpdate),e.changeUpdate=setTimeout((function(){var n=t.getViewport();e.from==e.to||n.from-e.to>20||e.from-n.to>20?s(t):t.operation((function(){n.from<e.from&&(a(t,n.from,e.from),e.from=n.from),n.to>e.to&&(a(t,e.to,n.to),e.to=n.to)}))}),n.updateViewportTimeSpan||400)}}function d(t,e){var n=t.state.foldGutter;if(n){var i=e.line;i>=n.from&&i<n.to&&a(t,i,i+1)}}}))},cf45:function(t,e,n){"use strict";n.d(e,"c",(function(){return i})),n.d(e,"d",(function(){return o})),n.d(e,"b",(function(){return r})),n.d(e,"a",(function(){return s}));n("456d"),n("ac6a");var i=[{type:1,name:"Android"},{type:2,name:"iOS"},{type:3,name:"PC Web"}],o=[{state:0,name:"禁用"},{state:1,name:"草稿"},{state:2,name:"发布"}];function r(t){if(!t)return t;var e=t.indexOf("<"),n=t.indexOf(">");if(-1!==e&&-1!==n){var i=t.substring(0,e),o=t.substring(e+1,n);return a(i)+t[e]+a(o)+t[n]}return a(t)}function a(t){return t?t.substring(t.lastIndexOf(".")+1):t}function s(t,e){Object.keys(e).forEach((function(n){void 0!==t[n]&&(t[n]=e[n])}))}},f400:function(t,e,n){"use strict";var i=n("c26b"),o=n("b39a"),r="Map";t.exports=n("e0b8")(r,(function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}}),{get:function(t){var e=i.getEntry(o(this,r),t);return e&&e.v},set:function(t,e){return i.def(o(this,r),0===t?0:t,e)}},i,!0)},f559:function(t,e,n){"use strict";var i=n("5ca1"),o=n("9def"),r=n("d2c8"),a="startsWith",s=""[a];i(i.P+i.F*n("5147")(a),"String",{startsWith:function(t){var e=r(this,t,a),n=o(Math.min(arguments.length>1?arguments[1]:void 0,e.length)),i=String(t);return s?s.call(e,i,n):e.slice(n,n+i.length)===i}})}}]);